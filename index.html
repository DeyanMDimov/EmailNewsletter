<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title></title>
        <link rel="stylesheet"href="css/bootstrap.min.css">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
        <script src="js/bootstrap.min.js"></script>
        <script src="js/jquery.blockUI.js" type="text/javascript"></script>
        <script type="text/javascript"> 
        $( 
            
        function($){    
            $.extend({
                el: function(el, props, text) {
                    var $el = $(document.createElement(el));
                    $el.attr(props);
                    if(text != undefined)
                        $el.text(text);
                    return $el;
                }
            });
            
        var weekOf; 
        var numberOfMeetups;
        var meetups;
        var container = $('.container#main');
        var setBlockingStyle = function(){
            var defaults = $.blockUI.defaults;
            defaults.overlayCSS = {
                backgroundColor: '#27ae60',
				opacity:			0.9,
            };
            defaults.css = {
                padding:	0,
				margin:		0,
				width:		'30%',
				top:		'30%',
				left:		'35%',
				textAlign:	'center',
				color:		'#fff',
				border:		'none',
				background: 'none',
                fontSize:   '20px',
            };
            defaults.centerY = false;
        }();
        
        var insertContainer = function(element){
            element.append($.el('div', {'class':'container-fluid'}));
            return element.children('.container-fluid');
        }
        
        var insertRow = function(element){
            var row = $.el('div', {'class':'row'});
            element.append(row);
            return row;
        }
        
        var insertInputRow = function(name, inputId, inputType){
            return [$.el('label', {'class':'control-label col-md-6'}, name), $.el('input', {'id':inputId, 'type': (inputType || 'text')})];
        }
        
        var createMeetUpForm = function(rowNum, meetNum){
            
            var meetUpRow = $('#meet-ups'+rowNum);
            if(meetUpRow.length==0)
            meetUpRow = $.el('div', {'class': 'row big-buffer', 'id': 'meet-ups'+rowNum});
            
            var meetUpContainer = $.el('div', {'class':'col-md-4', 'id':"meet-up"+meetNum});
            
            meetUpRow.append(meetUpContainer)
            container.append(meetUpRow);
            
                meetUpContainer = insertContainer(meetUpContainer);
            
            var row = insertRow(meetUpContainer);
                row.append(insertInputRow('Organizing Group', 'group-name'));
                
                row = insertRow(meetUpContainer);
                row.append(insertInputRow('Event Title', 'event-name'));
                
                row = insertRow(meetUpContainer);
                row.append(insertInputRow('Event Date', 'event-date', 'date'));
                
                row = insertRow(meetUpContainer);
                row.append(insertInputRow('Event Description', 'event-desc'));  
                
                row = insertRow(meetUpContainer);
                row.append($.el('button', {'class':'meet-up-ready center-block', 'id':meetNum}, 'Submit'));    
        };
        
        $('#set-week').click(function() {
            
            weekOf = $('#week-of').val();
            console.log(weekOf);
        
        });
        
        $('#add-meet-up').click(function() {
          
            for(i=1; i<10; i++){
                var meetUpRow = $('#meet-ups'+i);
                if(meetUpRow.length <= 0){
                    createMeetUpForm(i, (i*2)-1);
                    return false;
                }
                else if($('#meet-up'+(i*2)).length<=0){
                    createMeetUpForm(i, i*2);
                    return false;
                }
            }
        });
        
        $('.container').on('click', '.meet-up-ready', function(){
                var meetNum = this.id;
                var meetContainer  = $('#meet-up'+meetNum);
                $.blockUI.defaults.unblockMsg = '<h4 class="unblockBtn" id="'+meetNum+'">Edit</h4>';
                $('div#meet-up'+meetNum).block({message:"<h3>Completed</h3>"})
            })
            .on('click', '.unblockBtn', function(){
                var meetNum = this.id;
                var meetContainer  = $('#meet-up'+meetNum);
                $('div#meet-up'+meetNum).unblock();
            })
            
        
        
       
        })
        </script>
        <style>
            .top-buffer{margin-top: 10px;}
            .big-buffer{margin-top: 25px;}
            
            .unblockBtn{font-weight: 300;
                        cursor: pointer;}
        </style>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <!-- Add your site or application content here -->
        <div class="container" id="main">
        <h2>Meet Up Email Generator</h2>
        <div class="row">
            <div class="col-md-6">
            <h4>The Week Of</h4><input id="week-of" type="date" />
            <button id="set-week" >Submit</button>
            </div>
        </div>
        <div class="row top-buffer">
            <div class="col-md-6">
                
        <button id="add-meet-up">Add Meet-Up</button>
            </div>
        </div>
        
        
        </div>
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
    </body>
</html>
